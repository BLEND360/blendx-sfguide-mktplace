#version identifier
manifest_version: 2

version:
  name: V1
  label: "Version One"
  comment: "BlendX CrewAI Workflow"


#artifacts that are distributed from this version of the package
artifacts:
  readme: README.md
  setup_script: setup.sql
  container_services:
    images:
      - /BLENDX_APP_DB/BLENDX_SCHEMA/IMG_REPO/eap_frontend:{{IMAGE_TAG}}
      - /BLENDX_APP_DB/BLENDX_SCHEMA/IMG_REPO/eap_backend:{{IMAGE_TAG}}
      - /BLENDX_APP_DB/BLENDX_SCHEMA/IMG_REPO/eap_router:{{IMAGE_TAG}}

privileges:
 - IMPORTED PRIVILEGES ON SNOWFLAKE DB:
      description: "Enables application to use Cortex Functions"
 - CREATE COMPUTE POOL:
      description: "Enable application to create its own compute pool(s)"
 - BIND SERVICE ENDPOINT:
      description: "Enables application to expose service endpoints"
 - CREATE WAREHOUSE:
      description: "Enables application to create its own warehouse(s)"
 - EXECUTE MANAGED TASK:
      description: "Enables application to execute Snowflake Cortex functions"
 - CREATE EXTERNAL ACCESS INTEGRATION:
      description: "Create external access integration for external API access (Serper web search)"

configuration:
  log_level: INFO
  trace_level: ON_EVENT

references:
 - serper_api_key:
     label: "Serper API Key"
     description: "Secret containing the Serper API key for web search functionality"
     privileges:
          - READ
     object_type: SECRET
     register_callback: config.register_single_reference
     configuration_callback: config.get_config_for_ref
