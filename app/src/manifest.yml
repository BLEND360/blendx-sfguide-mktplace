#version identifier
manifest_version: 2

version:
  name: V1
  label: "Version One"
  comment: "The first version of our Native Application that includes SPCS"


#artifacts that are distributed from this version of the package
artifacts:
  readme: readme.md
  setup_script: setup.sql
  container_services:
    images:
      - /spcs_app/napp/img_repo/eap_frontend
      - /spcs_app/napp/img_repo/eap_backend
      - /spcs_app/napp/img_repo/eap_router

privileges:
 - CREATE COMPUTE POOL:
      description: "Enable application to create its own compute pool(s)"
 - BIND SERVICE ENDPOINT:
      description: "Enables application to expose service endpoints"
 - CREATE WAREHOUSE:
      description: "Enables application to create its own warehouse(s)"
 - EXECUTE MANAGED TASK:
      description: "Enables application to execute Snowflake Cortex functions"
 - IMPORTED PRIVILEGES ON SNOWFLAKE DB:
      description: "Access to Snowflake Cortex AI functions and models"
 - CREATE EXTERNAL ACCESS INTEGRATION:
      description: "Create external access integration for serper connection"

references:
 - serper_api_key:
     label: "Serper secret"
     description: "Needed to authenticate with serper"
     privileges:
          - READ
     object_type: SECRET
     register_callback: config.register_single_reference
     configuration_callback: config.get_config_for_ref
 - serper_access_integration:
     label: "Serper External Access"
     description: "External access integration for Serper API (serper.dev)"
     privileges:
          - USAGE
     object_type: EXTERNAL ACCESS INTEGRATION
     register_callback: config.register_single_reference
     configuration_callback: config.get_configuration
